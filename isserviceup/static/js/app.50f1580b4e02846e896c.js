webpackJsonp([1,0],[function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var i=s(9),a=n(i),r=s(6),c=n(r),o=s(2);(0,o.requestNotificationPermission)(),new a.default({el:"#services",template:"<Services/>",components:{Services:c.default}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.API_HOST="http://localhost:8000",t.SERVICES_REFRESH_INTERVAL=30,t.STATUS_DESCRIPTION={ok:"Operational",minor:"Degraded Performance",major:"Partial Outage",critical:"Major Outage",maintenance:"Maintenance",unavailable:"Status Unavailable"},t.STATUS_COLOR={ok:"green",minor:"yellow",major:"orange",critical:"red",maintenance:"blue",unavailable:"gray"},t.STATUS_ICON={ok:"fa-check",minor:"fa-minus-square",major:"fa-exclamation-triangle",critical:"fa-times",maintenance:"fa-wrench",unavailable:"fa-question"}},function(e,t){"use strict";function s(){return"Notification"in window}function n(){s()&&Notification.requestPermission()}function i(e,t){if(s())return new Notification(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.requestNotificationPermission=n,t.spawnNotification=i},function(e,t,s){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=s(1),a=n(i);t.default={name:"service",props:["service"],data:function(){return{}},methods:{goToStatusPage:function(){return window.location=this.service.status_url,!1}},computed:{color:function(){return a.STATUS_COLOR[this.service.status]},icon:function(){return a.STATUS_ICON[this.service.status]},description:function(){return a.STATUS_DESCRIPTION[this.service.status]}}}},function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function a(e,t,s,n){var i={icon:t},a=c.STATUS_DESCRIPTION[n],r=e+"'s new status is \""+a+'"';(0,o.spawnNotification)(r,i)}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),c=i(r),o=s(2),u=s(5),l=n(u);t.default={name:"services",components:{Service:l.default},data:function(){return{services:[],last_update:null}},created:function(){this.fetchServices(),setInterval(this.fetchServices.bind(this),1e3*c.SERVICES_REFRESH_INTERVAL),setInterval(this.increaseLastUpdate.bind(this),1e3)},methods:{fetchServices:function(){var e=this;$.get(c.API_HOST+"/status",function(t){var s=t.data.services,n={};$.each(e.services,function(e,t){n[t.name]=t}),$.each(s,function(e,t){if(n&&n[t.name]&&t.status!=n[t.name].status){var s=n[t.name].status;a(t.name,t.icon_url,s,t.status)}}),e.services=s,e.last_update=0})},increaseLastUpdate:function(){null!==this.last_update&&(this.last_update+=1)}},computed:{sortedServices:function(){var e=this.services.slice(0);return e.sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}),e}}}},function(e,t,s){var n,i;n=s(3);var a=s(8);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,e.exports=n},function(e,t,s){var n,i;n=s(4);var a=s(7);i=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(i=n=n.default),"function"==typeof i&&(i=i.options),i.render=a.render,i.staticRenderFns=a.staticRenderFns,e.exports=n},function(module,exports){module.exports={render:function(){with(this)return _h("div",[services&&0!=services.length?_e():_h("div",{staticClass:"loading"},[_m(0)," ",_m(1)])," ",services&&services.length>0?_h("div",{staticClass:"services-container one-column",attrs:{id:"services"}},[_l(sortedServices,function(e){return _h("service",{key:e.name,attrs:{service:e}})})]):_e()," ",null!=last_update?_h("div",{staticClass:"last-update"},["\n      Last update: ",_h("span",{staticClass:"last-update-seconds"},[_s(last_update)])," seconds ago\n    "]):_e()])},staticRenderFns:[function(){with(this)return _h("img",{attrs:{src:"/images/loading.gif",alt:"loading..",title:"loading.."}})},function(){with(this)return _h("div",["Loading service status.."])}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"service-row"},[_h("div",{staticClass:"service-container border-color",on:{click:goToStatusPage}},[_h("div",{staticClass:"service-inner-container",class:"status-"+color},[_h("img",{staticClass:"service-icon",attrs:{src:service.icon_url,title:service.name}})," ",_h("span",{staticClass:"service-name"},[_s(service.name)])," ",_h("span",{staticClass:"icon-indicator fa",class:icon})," ",_h("span",{staticClass:"service-status hidden-xxs"},[_h("a",{attrs:{href:service.status_url}},[_s(description)])])])])])},staticRenderFns:[]}}]);
//# sourceMappingURL=app.50f1580b4e02846e896c.js.map