webpackJsonp([1,0],[function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=s(9),a=i(n),r=s(6),o=i(r),c=s(2);(0,c.requestNotificationPermission)(),new a.default({el:"#services",template:"<Services/>",components:{Services:o.default}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.API_HOST="http://localhost:8000",t.SERVICES_REFRESH_INTERVAL=30,t.STATUS_DESCRIPTION={ok:"Operational",minor:"Degraded Performance",major:"Partial Outage",critical:"Major Outage",maintenance:"Maintenance",unavailable:"Status Unavailable"},t.STATUS_COLOR={ok:"green",minor:"yellow",major:"orange",critical:"red",maintenance:"blue",unavailable:"gray"},t.STATUS_ICON={ok:"fa-check",minor:"fa-minus-square",major:"fa-exclamation-triangle",critical:"fa-times",maintenance:"fa-wrench",unavailable:"fa-question"}},function(e,t){"use strict";function s(){return"Notification"in window}function i(){s()&&Notification.requestPermission()}function n(e,t){if(s())return new Notification(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.requestNotificationPermission=i,t.spawnNotification=n},function(e,t,s){"use strict";function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var n=s(1),a=i(n);t.default={name:"service",props:["service"],data:function(){return{color:a.STATUS_COLOR[this.service.status],icon:a.STATUS_ICON[this.service.status],description:a.STATUS_DESCRIPTION[this.service.status]}},methods:{goToStatusPage:function(){return window.location=this.service.status_url,!1}}}},function(e,t,s){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function a(e,t){$.each(e,function(e,s){var i=t[e];if(s&&s.name==i.name&&i.status!=s.status){notifyStatusChange(i.name,i.icon,i.description);var n={icon:icon},a=name+"'s new status is \""+newStatus+'"';(0,c.spawnNotification)(a,n)}})}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),o=n(r),c=s(2),u=s(5),l=i(u);t.default={name:"services",components:{Service:l.default},data:function(){return{services:[],last_update:null}},created:function(){this.fetchServices(),setInterval(this.fetchServices.bind(this),1e3*o.SERVICES_REFRESH_INTERVAL),setInterval(this.increaseLastUpdate.bind(this),1e3)},methods:{fetchServices:function(){var e=this;$.get(o.API_HOST+"/status",function(t){var s=t.data.services;s=s.sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}),a(e.services,t.data.services),e.services=t.data.services,e.last_update=0})},increaseLastUpdate:function(){console.log("increaseLastUpdate"),null!==this.last_update&&(this.last_update+=1)}}}},function(e,t,s){var i,n;i=s(3);var a=s(8);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=a.render,n.staticRenderFns=a.staticRenderFns,e.exports=i},function(e,t,s){var i,n;i=s(4);var a=s(7);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=a.render,n.staticRenderFns=a.staticRenderFns,e.exports=i},function(module,exports){module.exports={render:function(){with(this)return _h("div",[services&&0!=services.length?_e():_h("div",{staticClass:"loading"},[_m(0)," ",_m(1)])," ",services&&services.length>0?_h("div",{staticClass:"services-container one-column",attrs:{id:"services"}},[_l(services,function(e){return _h("service",{attrs:{service:e}})})]):_e()," ",null!=last_update?_h("div",{staticClass:"last-update"},["\n      Last update: ",_h("span",{staticClass:"last-update-seconds"},[_s(last_update)])," seconds ago\n    "]):_e()])},staticRenderFns:[function(){with(this)return _h("img",{attrs:{src:"/images/loading.gif",alt:"loading..",title:"loading.."}})},function(){with(this)return _h("div",["Loading service status.."])}]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"service-row"},[_h("div",{staticClass:"service-container border-color",on:{click:goToStatusPage}},[_h("div",{staticClass:"service-inner-container",class:"status-"+color},[_h("img",{staticClass:"service-icon",attrs:{src:service.icon_url,title:service.name}})," ",_h("span",{staticClass:"service-name"},[_s(service.name)])," ",_h("span",{staticClass:"icon-indicator fa",class:icon})," ",_h("span",{staticClass:"service-status hidden-xxs"},[_h("a",{attrs:{href:service.status_url}},[_s(description)])])])])])},staticRenderFns:[]}}]);
//# sourceMappingURL=app.f96831d380452f8ee083.js.map