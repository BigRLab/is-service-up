{"version":3,"sources":["webpack:///js/app.50f1580b4e02846e896c.js","webpack:///./src/main.js","webpack:///./src/config.js","webpack:///./src/utils/notifications.js","webpack:///Service.vue","webpack:///Services.vue","webpack:///./src/components/Service.vue","webpack:///./src/components/Services.vue","webpack:///./src/components/Services.vue?efbc","webpack:///./src/components/Service.vue?69c9"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_Services","_Services2","_notifications","requestNotificationPermission","el","template","components","Services","Object","defineProperty","value","API_HOST","SERVICES_REFRESH_INTERVAL","STATUS_DESCRIPTION","ok","minor","major","critical","maintenance","unavailable","STATUS_COLOR","STATUS_ICON","isNotificationSupported","window","Notification","requestPermission","spawnNotification","title","options","_interopRequireWildcard","newObj","key","prototype","hasOwnProperty","call","_config","config","name","props","data","methods","goToStatusPage","location","this","service","status_url","computed","color","status","icon","description","notifyStatusChange","serviceName","serviceIcon","oldStatus","newStatus","statusDesc","msg","_Service","_Service2","Service","services","last_update","created","fetchServices","setInterval","bind","increaseLastUpdate","self","$","get","prevServicesMap","each","i","prevStatus","icon_url","sortedServices","clone","slice","sort","a","b","toLowerCase","__vue_exports__","__vue_options__","__vue_template__","render","staticRenderFns","_h","length","_e","staticClass","_m","attrs","id","_l","_s","src","alt","on","click","class","href"],"mappings":"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","file":"js/app.50f1580b4e02846e896c.js","sourcesContent":["webpackJsonp([1,0],[\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _vue = __webpack_require__(9);\n\t\n\tvar _vue2 = _interopRequireDefault(_vue);\n\t\n\tvar _Services = __webpack_require__(6);\n\t\n\tvar _Services2 = _interopRequireDefault(_Services);\n\t\n\tvar _notifications = __webpack_require__(2);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t(0, _notifications.requestNotificationPermission)();\n\t\n\tnew _vue2.default({\n\t  el: '#services',\n\t  template: '<Services/>',\n\t  components: { Services: _Services2.default }\n\t});\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar API_HOST = exports.API_HOST = 'http://localhost:8000';\n\tvar SERVICES_REFRESH_INTERVAL = exports.SERVICES_REFRESH_INTERVAL = 30;\n\t\n\tvar STATUS_DESCRIPTION = exports.STATUS_DESCRIPTION = {\n\t  ok: 'Operational',\n\t  minor: 'Degraded Performance',\n\t  major: 'Partial Outage',\n\t  critical: 'Major Outage',\n\t  maintenance: 'Maintenance',\n\t  unavailable: 'Status Unavailable'\n\t};\n\t\n\tvar STATUS_COLOR = exports.STATUS_COLOR = {\n\t  ok: 'green',\n\t  minor: 'yellow',\n\t  major: 'orange',\n\t  critical: 'red',\n\t  maintenance: 'blue',\n\t  unavailable: 'gray'\n\t};\n\t\n\tvar STATUS_ICON = exports.STATUS_ICON = {\n\t  ok: 'fa-check',\n\t  minor: 'fa-minus-square',\n\t  major: 'fa-exclamation-triangle',\n\t  critical: 'fa-times',\n\t  maintenance: 'fa-wrench',\n\t  unavailable: 'fa-question'\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.requestNotificationPermission = requestNotificationPermission;\n\texports.spawnNotification = spawnNotification;\n\tfunction isNotificationSupported() {\n\t  return \"Notification\" in window;\n\t}\n\t\n\tfunction requestNotificationPermission() {\n\t  if (!isNotificationSupported()) {\n\t    return;\n\t  }\n\t  Notification.requestPermission();\n\t}\n\t\n\tfunction spawnNotification(title, options) {\n\t  if (!isNotificationSupported()) {\n\t    return;\n\t  }\n\t  return new Notification(title, options);\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _config = __webpack_require__(1);\n\t\n\tvar config = _interopRequireWildcard(_config);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\texports.default = {\n\t  name: 'service',\n\t  props: ['service'],\n\t  data: function data() {\n\t    return {};\n\t  },\n\t  methods: {\n\t    goToStatusPage: function goToStatusPage() {\n\t      window.location = this.service.status_url;\n\t      return false;\n\t    }\n\t  },\n\t  computed: {\n\t    color: function color() {\n\t      return config.STATUS_COLOR[this.service.status];\n\t    },\n\t    icon: function icon() {\n\t      return config.STATUS_ICON[this.service.status];\n\t    },\n\t    description: function description() {\n\t      return config.STATUS_DESCRIPTION[this.service.status];\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 4 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _config = __webpack_require__(1);\n\t\n\tvar config = _interopRequireWildcard(_config);\n\t\n\tvar _notifications = __webpack_require__(2);\n\t\n\tvar _Service = __webpack_require__(5);\n\t\n\tvar _Service2 = _interopRequireDefault(_Service);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction notifyStatusChange(serviceName, serviceIcon, oldStatus, newStatus) {\n\t  var options = {\n\t    icon: serviceIcon\n\t  };\n\t  var statusDesc = config.STATUS_DESCRIPTION[newStatus];\n\t  var msg = serviceName + '\\'s new status is \"' + statusDesc + '\"';\n\t  (0, _notifications.spawnNotification)(msg, options);\n\t}\n\t\n\texports.default = {\n\t  name: 'services',\n\t  components: {\n\t    Service: _Service2.default\n\t  },\n\t\n\t  data: function data() {\n\t    return {\n\t      services: [],\n\t      last_update: null\n\t    };\n\t  },\n\t\n\t  created: function _ready() {\n\t    this.fetchServices();\n\t    setInterval(this.fetchServices.bind(this), config.SERVICES_REFRESH_INTERVAL * 1000);\n\t    setInterval(this.increaseLastUpdate.bind(this), 1000);\n\t  },\n\t\n\t  methods: {\n\t\n\t    fetchServices: function _fetchServices() {\n\t      var self = this;\n\t      $.get(config.API_HOST + '/status', function (data) {\n\t        var services = data.data.services;\n\t        var prevServicesMap = {};\n\t        $.each(self.services, function (i, service) {\n\t          prevServicesMap[service.name] = service;\n\t        });\n\t        $.each(services, function (i, service) {\n\t          if (prevServicesMap && prevServicesMap[service.name] && service.status != prevServicesMap[service.name].status) {\n\t            var prevStatus = prevServicesMap[service.name].status;\n\t            notifyStatusChange(service.name, service.icon_url, prevStatus, service.status);\n\t          }\n\t        });\n\t\n\t        self.services = services;\n\t        self.last_update = 0;\n\t      });\n\t    },\n\t\n\t    increaseLastUpdate: function increaseLastUpdate() {\n\t      if (this.last_update === null) {\n\t        return;\n\t      }\n\t      this.last_update += 1;\n\t    }\n\t\n\t  },\n\t\n\t  computed: {\n\t    sortedServices: function sortedServices() {\n\t      var clone = this.services.slice(0);\n\t      clone.sort(function (a, b) {\n\t        return a.name.toLowerCase() > b.name.toLowerCase() ? 1 : -1;\n\t      });\n\t      return clone;\n\t    }\n\t  }\n\t};\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(3)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(8)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __vue_exports__, __vue_options__\n\t\n\t/* script */\n\t__vue_exports__ = __webpack_require__(4)\n\t\n\t/* template */\n\tvar __vue_template__ = __webpack_require__(7)\n\t__vue_options__ = __vue_exports__ = __vue_exports__ || {}\n\tif (\n\t  typeof __vue_exports__.default === \"object\" ||\n\t  typeof __vue_exports__.default === \"function\"\n\t) {\n\t__vue_options__ = __vue_exports__ = __vue_exports__.default\n\t}\n\tif (typeof __vue_options__ === \"function\") {\n\t  __vue_options__ = __vue_options__.options\n\t}\n\t\n\t__vue_options__.render = __vue_template__.render\n\t__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\t\n\tmodule.exports = __vue_exports__\n\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', [(!services || services.length == 0) ? _h('div', {\n\t    staticClass: \"loading\"\n\t  }, [_m(0), \" \", _m(1)]) : _e(), \" \", (services && services.length > 0) ? _h('div', {\n\t    staticClass: \"services-container one-column\",\n\t    attrs: {\n\t      \"id\": \"services\"\n\t    }\n\t  }, [_l((sortedServices), function(service) {\n\t    return _h('service', {\n\t      key: service.name,\n\t      attrs: {\n\t        \"service\": service\n\t      }\n\t    })\n\t  })]) : _e(), \" \", (last_update != null) ? _h('div', {\n\t    staticClass: \"last-update\"\n\t  }, [\"\\n      Last update: \", _h('span', {\n\t    staticClass: \"last-update-seconds\"\n\t  }, [_s(last_update)]), \" seconds ago\\n    \"]) : _e()])\n\t}},staticRenderFns: [function (){with(this) {\n\t  return _h('img', {\n\t    attrs: {\n\t      \"src\": \"/images/loading.gif\",\n\t      \"alt\": \"loading..\",\n\t      \"title\": \"loading..\"\n\t    }\n\t  })\n\t}},function (){with(this) {\n\t  return _h('div', [\"Loading service status..\"])\n\t}}]}\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\tmodule.exports={render:function (){with(this) {\n\t  return _h('div', {\n\t    staticClass: \"service-row\"\n\t  }, [_h('div', {\n\t    staticClass: \"service-container border-color\",\n\t    on: {\n\t      \"click\": goToStatusPage\n\t    }\n\t  }, [_h('div', {\n\t    staticClass: \"service-inner-container\",\n\t    class: 'status-' + color\n\t  }, [_h('img', {\n\t    staticClass: \"service-icon\",\n\t    attrs: {\n\t      \"src\": service.icon_url,\n\t      \"title\": service.name\n\t    }\n\t  }), \" \", _h('span', {\n\t    staticClass: \"service-name\"\n\t  }, [_s(service.name)]), \" \", _h('span', {\n\t    staticClass: \"icon-indicator fa\",\n\t    class: icon\n\t  }), \" \", _h('span', {\n\t    staticClass: \"service-status hidden-xxs\"\n\t  }, [_h('a', {\n\t    attrs: {\n\t      \"href\": service.status_url\n\t    }\n\t  }, [_s(description)])])])])])\n\t}},staticRenderFns: []}\n\n/***/ }\n]);\n\n\n// WEBPACK FOOTER //\n// js/app.50f1580b4e02846e896c.js","import Vue from 'vue';\nimport Services from './components/Services';\nimport {requestNotificationPermission} from './utils/notifications';\n\n/* eslint-disable no-new */\n\nrequestNotificationPermission();\n\nnew Vue({\n  el: '#services',\n  template: '<Services/>',\n  components: { Services },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","export var API_HOST = 'http://localhost:8000';\nexport var SERVICES_REFRESH_INTERVAL = 30;\n\nexport var STATUS_DESCRIPTION = {\n  ok: 'Operational',\n  minor: 'Degraded Performance',\n  major: 'Partial Outage',\n  critical: 'Major Outage',\n  maintenance: 'Maintenance',\n  unavailable: 'Status Unavailable',\n};\n\nexport var STATUS_COLOR = {\n  ok: 'green',\n  minor: 'yellow',\n  major: 'orange',\n  critical: 'red',\n  maintenance: 'blue',\n  unavailable: 'gray',\n};\n\nexport var STATUS_ICON = {\n  ok: 'fa-check',\n  minor: 'fa-minus-square',\n  major: 'fa-exclamation-triangle',\n  critical: 'fa-times',\n  maintenance: 'fa-wrench',\n  unavailable: 'fa-question',\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","function isNotificationSupported() {\n  return (\"Notification\" in window);\n}\n\nexport function requestNotificationPermission() {\n  if (!isNotificationSupported()) {\n    return;\n  }\n  Notification.requestPermission();\n}\n\nexport function spawnNotification(title, options) {\n  if (!isNotificationSupported()) {\n    return;\n  }\n  return new Notification(title, options);\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/notifications.js","<template>\n  <div class=\"service-row\">\n    <div class=\"service-container border-color\" v-on:click=\"goToStatusPage\">\n      <div class=\"service-inner-container\" :class=\"'status-' + color\">\n        <img class=\"service-icon\" :src=\"service.icon_url\" :title=\"service.name\"/>\n        <span class=\"service-name\">{{service.name}}</span>\n        <span class=\"icon-indicator fa\" :class=\"icon\"></span>\n        <span class=\"service-status hidden-xxs\"><a :href=\"service.status_url\">{{description}}</a></span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport * as config from '../config';\n\nexport default {\n  name: 'service',\n  props: ['service'],\n  data: function() {\n    return {\n    };\n  },\n  methods: {\n    goToStatusPage: function() {\n      window.location = this.service.status_url;\n      return false;\n    },\n  },\n  computed: {\n    color: function() {\n      return config.STATUS_COLOR[this.service.status];\n    },\n    icon: function() {\n      return config.STATUS_ICON[this.service.status];\n    },\n    description: function() {\n      return config.STATUS_DESCRIPTION[this.service.status];\n    },\n  }\n};\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Service.vue?7e87d3b6","<template>\n  <div>\n      <div class=\"loading\" v-if=\"!services || services.length == 0\">\n        <img src=\"/images/loading.gif\" alt=\"loading..\" title=\"loading..\" />\n        <div>Loading service status..</div>\n      </div>\n      <div class=\"services-container one-column\" id=\"services\" v-if=\"services && services.length > 0\">\n        <service v-for=\"service in sortedServices\" :service=\"service\" :key=\"service.name\"></service>\n      </div>\n      <div class=\"last-update\" v-if=\"last_update != null\">\n        Last update: <span class=\"last-update-seconds\">{{last_update}}</span> seconds ago\n      </div>\n  </div>\n</template>\n\n<script>\nimport * as config from '../config';\nimport {spawnNotification} from '../utils/notifications';\nimport Service from './Service';\n\nfunction notifyStatusChange(serviceName, serviceIcon, oldStatus, newStatus) {\n  var options = {\n    icon: serviceIcon\n  };\n  var statusDesc = config.STATUS_DESCRIPTION[newStatus];\n  var msg = serviceName + '\\'s new status is \"' + statusDesc + '\"';\n  spawnNotification(msg, options);\n}\n\nexport default {\n  name: 'services',\n  components: {\n    Service,\n  },\n\n  data: function() {\n    return  {\n      services: [],\n      last_update: null,\n    };\n  },\n\n  created: function _ready(){\n    this.fetchServices();\n    setInterval(this.fetchServices.bind(this), config.SERVICES_REFRESH_INTERVAL * 1000);\n    setInterval(this.increaseLastUpdate.bind(this), 1000);\n  },\n\n  methods: {\n\n    fetchServices: function _fetchServices(){\n      var self = this;\n      $.get(config.API_HOST + '/status', function(data) {\n        var services = data.data.services;\n        var prevServicesMap = {};\n        $.each(self.services, function(i, service) {\n          prevServicesMap[service.name] = service;\n        });\n        $.each(services, function(i, service) {\n          if (prevServicesMap\n              && prevServicesMap[service.name]\n              && service.status != prevServicesMap[service.name].status) {\n            var prevStatus = prevServicesMap[service.name].status;\n            notifyStatusChange(service.name, service.icon_url, prevStatus, service.status);\n          }\n        });\n\n        self.services = services;\n        self.last_update = 0;\n      });\n    },\n\n    increaseLastUpdate: function() {\n      if (this.last_update === null) {\n        return;\n      }\n      this.last_update += 1;\n    },\n\n  },\n\n  computed: {\n    sortedServices: function () {\n      var clone = this.services.slice(0);\n      clone.sort((a,b) => (a.name.toLowerCase() > b.name.toLowerCase()) ? 1 : -1);\n      return clone;\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// Services.vue?14679f87","var __vue_exports__, __vue_options__\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Service.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-5e278a96!vue-loader/lib/selector?type=template&index=0!./Service.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Service.vue\n// module id = 5\n// module chunks = 1","var __vue_exports__, __vue_options__\n\n/* script */\n__vue_exports__ = require(\"!!babel-loader!vue-loader/lib/selector?type=script&index=0!./Services.vue\")\n\n/* template */\nvar __vue_template__ = require(\"!!vue-loader/lib/template-compiler?id=data-v-5046bd0e!vue-loader/lib/selector?type=template&index=0!./Services.vue\")\n__vue_options__ = __vue_exports__ = __vue_exports__ || {}\nif (\n  typeof __vue_exports__.default === \"object\" ||\n  typeof __vue_exports__.default === \"function\"\n) {\n__vue_options__ = __vue_exports__ = __vue_exports__.default\n}\nif (typeof __vue_options__ === \"function\") {\n  __vue_options__ = __vue_options__.options\n}\n\n__vue_options__.render = __vue_template__.render\n__vue_options__.staticRenderFns = __vue_template__.staticRenderFns\n\nmodule.exports = __vue_exports__\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Services.vue\n// module id = 6\n// module chunks = 1","module.exports={render:function (){with(this) {\n  return _h('div', [(!services || services.length == 0) ? _h('div', {\n    staticClass: \"loading\"\n  }, [_m(0), \" \", _m(1)]) : _e(), \" \", (services && services.length > 0) ? _h('div', {\n    staticClass: \"services-container one-column\",\n    attrs: {\n      \"id\": \"services\"\n    }\n  }, [_l((sortedServices), function(service) {\n    return _h('service', {\n      key: service.name,\n      attrs: {\n        \"service\": service\n      }\n    })\n  })]) : _e(), \" \", (last_update != null) ? _h('div', {\n    staticClass: \"last-update\"\n  }, [\"\\n      Last update: \", _h('span', {\n    staticClass: \"last-update-seconds\"\n  }, [_s(last_update)]), \" seconds ago\\n    \"]) : _e()])\n}},staticRenderFns: [function (){with(this) {\n  return _h('img', {\n    attrs: {\n      \"src\": \"/images/loading.gif\",\n      \"alt\": \"loading..\",\n      \"title\": \"loading..\"\n    }\n  })\n}},function (){with(this) {\n  return _h('div', [\"Loading service status..\"])\n}}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-5046bd0e!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Services.vue\n// module id = 7\n// module chunks = 1","module.exports={render:function (){with(this) {\n  return _h('div', {\n    staticClass: \"service-row\"\n  }, [_h('div', {\n    staticClass: \"service-container border-color\",\n    on: {\n      \"click\": goToStatusPage\n    }\n  }, [_h('div', {\n    staticClass: \"service-inner-container\",\n    class: 'status-' + color\n  }, [_h('img', {\n    staticClass: \"service-icon\",\n    attrs: {\n      \"src\": service.icon_url,\n      \"title\": service.name\n    }\n  }), \" \", _h('span', {\n    staticClass: \"service-name\"\n  }, [_s(service.name)]), \" \", _h('span', {\n    staticClass: \"icon-indicator fa\",\n    class: icon\n  }), \" \", _h('span', {\n    staticClass: \"service-status hidden-xxs\"\n  }, [_h('a', {\n    attrs: {\n      \"href\": service.status_url\n    }\n  }, [_s(description)])])])])])\n}},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-5e278a96!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/Service.vue\n// module id = 8\n// module chunks = 1"],"sourceRoot":""}