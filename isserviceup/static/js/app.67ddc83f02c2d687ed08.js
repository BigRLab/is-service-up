webpackJsonp([1,0],[function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var a=s(9),i=n(a),r=s(6),o=n(r),c=s(2);(0,c.requestNotificationPermission)(),new i.default({el:"#services",template:"<Services/>",components:{Services:o.default}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.API_HOST="http://localhost:8000",t.SERVICES_REFRESH_INTERVAL=30,t.STATUS_DESCRIPTION={ok:"Operational",minor:"Degraded Performance",major:"Partial Outage",critical:"Major Outage",maintenance:"Maintenance",unavailable:"Status Unavailable"},t.STATUS_COLOR={ok:"green",minor:"yellow",major:"orange",critical:"red",maintenance:"blue",unavailable:"gray"},t.STATUS_ICON={ok:"fa-check",minor:"fa-minus-square",major:"fa-exclamation-triangle",critical:"fa-times",maintenance:"fa-wrench",unavailable:"fa-question"}},function(e,t){"use strict";function s(){return"Notification"in window}function n(){s()&&Notification.requestPermission()}function a(e,t){if(s())return new Notification(e,t)}Object.defineProperty(t,"__esModule",{value:!0}),t.requestNotificationPermission=n,t.spawnNotification=a},function(e,t,s){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var a=s(1),i=n(a);t.default={name:"service",props:["service"],data:function(){return{color:i.STATUS_COLOR[this.service.status],icon:i.STATUS_ICON[this.service.status],description:i.STATUS_DESCRIPTION[this.service.status]}},methods:{goToStatusPage:function(){return window.location=this.service.status_url,!1}}}},function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t.default=e,t}function i(e,t){$.each(e,function(e,s){var n=t[e];if(s&&s.name==n.name&&n.status!=s.status){notifyStatusChange(n.name,n.icon,n.description);var a={icon:icon},i=name+"'s new status is \""+newStatus+'"';(0,c.spawnNotification)(i,a)}})}Object.defineProperty(t,"__esModule",{value:!0});var r=s(1),o=a(r),c=s(2),u=s(5),l=n(u);t.default={name:"services",components:{Service:l.default},data:function(){return{services:[],last_update:null}},created:function(){this.fetchServices(),setInterval(this.fetchServices.bind(this),1e3*o.SERVICES_REFRESH_INTERVAL),setInterval(this.increaseLastUpdate.bind(this),1e3)},methods:{fetchServices:function(){var e=this;$.get(o.API_HOST+"/status",function(t){var s=t.data.services;s=s.sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}),i(e.services,t.data.services),e.services=t.data.services,e.last_update=t.data.last_update})},increaseLastUpdate:function(){console.log("increaseLastUpdate"),null!==this.last_update&&(this.last_update+=1)}}}},function(e,t,s){var n,a;n=s(3);var i=s(8);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(a=n=n.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,e.exports=n},function(e,t,s){var n,a;n=s(4);var i=s(7);a=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(a=n=n.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,e.exports=n},function(module,exports){module.exports={render:function(){with(this)return _h("div",[_h("div",{staticClass:"services-container one-column",attrs:{id:"services"}},[_l(services,function(e){return _h("service",{attrs:{service:e}})})])," ",_h("div",{staticClass:"last-update"},["\n      Last update: ",_h("span",{staticClass:"last-update-seconds"},[_s(last_update)])," seconds ago\n    "])])},staticRenderFns:[]}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{staticClass:"service-row"},[_h("div",{staticClass:"service-container border-color",on:{click:goToStatusPage}},[_h("div",{staticClass:"service-inner-container",class:"status-"+color},[_h("img",{staticClass:"service-icon",attrs:{src:service.icon_url,title:service.name}})," ",_h("span",{staticClass:"service-name"},[_s(service.name)])," ",_h("span",{staticClass:"icon-indicator fa",class:icon})," ",_h("span",{staticClass:"service-status hidden-xxs"},[_h("a",{attrs:{href:service.status_url}},[_s(description)])])])])])},staticRenderFns:[]}}]);
//# sourceMappingURL=app.67ddc83f02c2d687ed08.js.map